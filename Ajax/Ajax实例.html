<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<!-- <form method="post"> -->
			账号：<input id="username" type="text" name="account"><span id="usernameError"></span><br>
			密码：<input id="password" type="password" name="password"><span id="passwordError"></span><br>
			<input type="submit" value="登录" onclick="loginHome()">
			<!-- <input type="button" value="注册" onclick="zhuce()"/> -->
		<!-- </form> -->
		<script src="./jquery-3.6.0.js"></script>
		<script type="text/javascript">
			function loginHome(){
				var name = $("#username").val()
				var password = $("#password").val()
				var userInfo={
					"account":$("#username").val(),
					"password":$("#password").val()
				}
				if(name == ""){
					document.getElementById("usernameError").innerText = "用户名不能为空"
					return false
				}
				if(password == ""){
					document.getElementById("passwordError").innerText = "密码不能为空"
					return false
				}
				else{
					/* $.post({
						// type : "post",
						url : "http://192.168.3.239:8008/queryUser",
						// processData: false,
						dataType : "jsonp",
						async : true,
						data : {username : name , password : password},
						success : function(data){
							var pwd = data.password
							if(password != pwd){
								document.getElementById("passwordError").innerText = "密码错误，请重新输入"
							}else{
								location.href = "../Project/登录后页面.html"
							}
						},
						error : function(){
							console.log("发生错误")
							alert("发生错误")
						},
						complete : function(){
							console.log("ajax请求完成，最终操作在这里完成")
						}
					}) */
					
					// $.post(
					// 				"http://192.168.3.239:8008/queryUser",      //url地址
					// 				{
					// 					userName:$("#userName").val(),
					// 					password:$("#password").val()
					// 				},
					// 				function(data){ //回传函数
					// 					alert(data);
					// 				},
					// 				"text")
					$.ajax({
						url:"http://192.168.3.239:8008/queryUser",
						type:"POST",
						// data:{"userInfo":userInfo},
						data:JSON.stringify(userInfo),
						dataType:'json',//json 返回值类型
						contentType:"application/json;charset=UTF-8",
						success: function(result){
						alert(result.msg);
					  },
					  error:function(result){
						alert(result.msg);
					  }
					  })
						

				}
			}
		</script>
	</body>
</html>
