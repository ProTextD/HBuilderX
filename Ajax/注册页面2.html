<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>注册页面</title>
	</head>
	<body>
		账号:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="username" name="account"/><span id="usernameError"></span><br />
		密码:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="password" id="password" name="password"/><span id="pwdError"></span><br>
		确认密码:<input type="password" id="password2" /><span id="pwd2Error"></span>
		<input type="submit" value="提交" id="submitt" onclick="zhuce()" />
		<script src="./jquery-3.6.0.js"></script>
		<script type="text/javascript">
			function zhuce(){
				var usernameElt = document.getElementById("username")
				var username = usernameElt.value
				var usernameErrorElt = document.getElementById("usernameError")
				
				var passwordElt = document.getElementById("password")
				var password = passwordElt.value
				var pwdErrorElt = document.getElementById("pwdError")
				
				var password2Elt = document.getElementById("password2")
				var password2 = password2Elt.value
				var pwd2ErrorElt = document.getElementById("pwd2Error")
				if(username == ""){
					usernameErrorElt.innerText = "用户名不能为空"
				}
				if(password == ""){
					pwdErrorElt.innerText = "密码不为空"
				}
				if(password != password2){
					pwd2ErrorElt.innerText = "密码不一致，请重新输入"
				}
				else{
					
					var name = $("#username").val()
					var password = $("#password").val()
					var userInfo={
						"account":$("#username").val(),
						"password":$("#password").val()
					}
					$.ajax({
						url:"http://192.168.3.239:8008/insertUser",
						type:"post",
						data:JSON.stringify(userInfo),
						dataType:'json',//json 返回值类型
						contentType:"application/json;charset=UTF-8",
						success: function(result){
						alert(result.msg);
						location.href = "730Test2.html"
					},
						error:function(result){
						alert(result.msg);
					}
					})
				}
				
			}
		</script>
	</body>
</html>
